{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{apiService}from'../services/api';import TaskCard from'../components/TaskCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskPlanning=()=>{const{user}=useAuth();const[tasks,setTasks]=useState([]);const[selectedDate,setSelectedDate]=useState(new Date().toISOString().split('T')[0]);const[selectedTasks,setSelectedTasks]=useState([]);const[dailyTasks,setDailyTasks]=useState([]);const[loading,setLoading]=useState(true);const[planningTask,setPlanningTask]=useState(false);const[activeCategory,setActiveCategory]=useState('all');const categories=[{key:'all',label:'全部',emoji:'📋'},{key:'reading',label:'语文阅读',emoji:'📚'},{key:'learning',label:'学习',emoji:'🧠'},{key:'exercise',label:'运动',emoji:'🏃‍♂️'},{key:'creativity',label:'创意',emoji:'🎨'},{key:'other',label:'其他',emoji:'⭐'}];useEffect(()=>{loadTasks();loadDailyTasks();},[selectedDate]);const loadTasks=async()=>{try{setLoading(true);const response=await apiService.getTasks();setTasks(response.data.tasks);}catch(error){console.error('Error loading tasks:',error);}finally{setLoading(false);}};const loadDailyTasks=async()=>{try{const response=await apiService.getDailyTasks({date:selectedDate});setDailyTasks(response.data.dailyTasks);}catch(error){console.error('Error loading daily tasks:',error);}};const handleTaskSelect=task=>{setSelectedTasks(prev=>{const isSelected=prev.find(t=>t.id===task.id);if(isSelected){return prev.filter(t=>t.id!==task.id);}else{return[...prev,task];}});};const handlePlanTasks=async()=>{if(selectedTasks.length===0)return;try{setPlanningTask(true);for(const task of selectedTasks){// Check if task is already planned for this date\nconst existingTask=dailyTasks.find(dt=>dt.taskId===task.id);if(!existingTask){await apiService.createDailyTask({taskId:task.id,date:selectedDate,notes:`计划于 ${selectedDate} 完成`});}}setSelectedTasks([]);await loadDailyTasks();// Show success message\nalert(`成功规划了 ${selectedTasks.length} 个任务！`);}catch(error){console.error('Error planning tasks:',error);alert('规划任务时出现错误，请重试');}finally{setPlanningTask(false);}};const filteredTasks=activeCategory==='all'?tasks:tasks.filter(task=>task.category===activeCategory);const isTaskPlanned=task=>{return dailyTasks.some(dt=>dt.taskId===task.id);};const getTotalPoints=()=>{return selectedTasks.reduce((sum,task)=>sum+task.points,0);};const getTotalTime=()=>{return selectedTasks.reduce((sum,task)=>sum+task.estimatedTime,0);};if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-primary-100 to-secondary-100 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-lg text-gray-600\",children:\"\\u52A0\\u8F7D\\u4E2D...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-primary-100 to-secondary-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 bg-primary-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xl font-bold\",children:\"\\uD83D\\uDCC5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\u4EFB\\u52A1\\u89C4\\u5212\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u9009\\u62E9\\u4ECA\\u65E5\\u8981\\u5B8C\\u6210\\u7684\\u4EFB\\u52A1\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:user.displayName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[user.points,\" \\u79EF\\u5206\"]})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-6 sticky top-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"\\uD83D\\uDCC5 \\u65E5\\u671F\\u9009\\u62E9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",min:new Date().toISOString().split('T')[0]}),selectedTasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-900 mb-3\",children:\"\\u2705 \\u5DF2\\u9009\\u4EFB\\u52A1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:selectedTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-primary-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 truncate\",children:task.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTaskSelect(task),className:\"text-danger-500 hover:text-danger-700 ml-2\",children:\"\\u274C\"})]},task.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u603B\\u79EF\\u5206:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-primary-600\",children:getTotalPoints()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u603B\\u65F6\\u95F4:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-secondary-600\",children:[getTotalTime(),\"\\u5206\\u949F\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePlanTasks,disabled:planningTask,className:\"w-full mt-4 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white py-2 px-4 rounded-lg font-medium transition-colors duration-200\",children:planningTask?'规划中...':'确认规划'})]}),dailyTasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-900 mb-3\",children:\"\\uD83D\\uDCCB \\u4ECA\\u65E5\\u8BA1\\u5212\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:dailyTasks.map(dailyTask=>{var _dailyTask$task;return/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-success-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:(_dailyTask$task=dailyTask.task)===null||_dailyTask$task===void 0?void 0:_dailyTask$task.title}),/*#__PURE__*/_jsx(\"span\",{className:`text-xs px-2 py-1 rounded-full ${dailyTask.status==='completed'?'bg-success-100 text-success-700':dailyTask.status==='in_progress'?'bg-secondary-100 text-secondary-700':'bg-gray-100 text-gray-700'}`,children:dailyTask.status==='completed'?'已完成':dailyTask.status==='in_progress'?'进行中':'计划中'})]})},dailyTask.id);})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm p-4 mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:categories.map(category=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveCategory(category.key),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors duration-200 ${activeCategory===category.key?'bg-primary-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'}`,children:[/*#__PURE__*/_jsx(\"span\",{children:category.emoji}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:category.label})]},category.key))})}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"\\u52A0\\u8F7D\\u4EFB\\u52A1\\u4E2D...\"})]}):filteredTasks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"\\u6682\\u65E0\\u4EFB\\u52A1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\u8BE5\\u5206\\u7C7B\\u4E0B\\u6682\\u65F6\\u6CA1\\u6709\\u53EF\\u7528\\u7684\\u4EFB\\u52A1\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:filteredTasks.map(task=>/*#__PURE__*/_jsx(TaskCard,{task:task,onSelect:handleTaskSelect,isSelected:selectedTasks.some(t=>t.id===task.id)||isTaskPlanned(task),showActions:false,className:isTaskPlanned(task)?'opacity-50 pointer-events-none':''},task.id))})]})]})})]});};export default TaskPlanning;","map":{"version":3,"names":["React","useState","useEffect","useAuth","apiService","TaskCard","jsx","_jsx","jsxs","_jsxs","TaskPlanning","user","tasks","setTasks","selectedDate","setSelectedDate","Date","toISOString","split","selectedTasks","setSelectedTasks","dailyTasks","setDailyTasks","loading","setLoading","planningTask","setPlanningTask","activeCategory","setActiveCategory","categories","key","label","emoji","loadTasks","loadDailyTasks","response","getTasks","data","error","console","getDailyTasks","date","handleTaskSelect","task","prev","isSelected","find","t","id","filter","handlePlanTasks","length","existingTask","dt","taskId","createDailyTask","notes","alert","filteredTasks","category","isTaskPlanned","some","getTotalPoints","reduce","sum","points","getTotalTime","estimatedTime","className","children","displayName","type","value","onChange","e","target","min","map","title","onClick","disabled","dailyTask","_dailyTask$task","status","onSelect","showActions"],"sources":["/root/projects/SummerVacationPlanning/frontend/src/pages/TaskPlanning.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Task, DailyTask } from '../types';\nimport { apiService } from '../services/api';\nimport TaskCard from '../components/TaskCard';\n\nconst TaskPlanning: React.FC = () => {\n  const { user } = useAuth();\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\n  const [selectedTasks, setSelectedTasks] = useState<Task[]>([]);\n  const [dailyTasks, setDailyTasks] = useState<DailyTask[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [planningTask, setPlanningTask] = useState(false);\n  const [activeCategory, setActiveCategory] = useState<string>('all');\n\n  const categories = [\n    { key: 'all', label: '全部', emoji: '📋' },\n    { key: 'reading', label: '语文阅读', emoji: '📚' },\n    { key: 'learning', label: '学习', emoji: '🧠' },\n    { key: 'exercise', label: '运动', emoji: '🏃‍♂️' },\n    { key: 'creativity', label: '创意', emoji: '🎨' },\n    { key: 'other', label: '其他', emoji: '⭐' },\n  ];\n\n  useEffect(() => {\n    loadTasks();\n    loadDailyTasks();\n  }, [selectedDate]);\n\n  const loadTasks = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getTasks();\n      setTasks((response as any).data.tasks);\n    } catch (error) {\n      console.error('Error loading tasks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadDailyTasks = async () => {\n    try {\n      const response = await apiService.getDailyTasks({ date: selectedDate });\n      setDailyTasks((response as any).data.dailyTasks);\n    } catch (error) {\n      console.error('Error loading daily tasks:', error);\n    }\n  };\n\n  const handleTaskSelect = (task: Task) => {\n    setSelectedTasks(prev => {\n      const isSelected = prev.find(t => t.id === task.id);\n      if (isSelected) {\n        return prev.filter(t => t.id !== task.id);\n      } else {\n        return [...prev, task];\n      }\n    });\n  };\n\n  const handlePlanTasks = async () => {\n    if (selectedTasks.length === 0) return;\n\n    try {\n      setPlanningTask(true);\n      \n      for (const task of selectedTasks) {\n        // Check if task is already planned for this date\n        const existingTask = dailyTasks.find(dt => dt.taskId === task.id);\n        if (!existingTask) {\n          await apiService.createDailyTask({\n            taskId: task.id,\n            date: selectedDate,\n            notes: `计划于 ${selectedDate} 完成`,\n          });\n        }\n      }\n\n      setSelectedTasks([]);\n      await loadDailyTasks();\n      \n      // Show success message\n      alert(`成功规划了 ${selectedTasks.length} 个任务！`);\n    } catch (error) {\n      console.error('Error planning tasks:', error);\n      alert('规划任务时出现错误，请重试');\n    } finally {\n      setPlanningTask(false);\n    }\n  };\n\n  const filteredTasks = activeCategory === 'all' \n    ? tasks \n    : tasks.filter(task => task.category === activeCategory);\n\n  const isTaskPlanned = (task: Task) => {\n    return dailyTasks.some(dt => dt.taskId === task.id);\n  };\n\n  const getTotalPoints = () => {\n    return selectedTasks.reduce((sum, task) => sum + task.points, 0);\n  };\n\n  const getTotalTime = () => {\n    return selectedTasks.reduce((sum, task) => sum + task.estimatedTime, 0);\n  };\n\n  if (!user) {\n    return <div className=\"min-h-screen bg-gradient-to-br from-primary-100 to-secondary-100 flex items-center justify-center\">\n      <div className=\"text-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto\"></div>\n        <p className=\"mt-4 text-lg text-gray-600\">加载中...</p>\n      </div>\n    </div>;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-100 to-secondary-100\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div className=\"flex items-center\">\n              <div className=\"h-12 w-12 bg-primary-500 rounded-full flex items-center justify-center\">\n                <span className=\"text-white text-xl font-bold\">📅</span>\n              </div>\n              <div className=\"ml-4\">\n                <h1 className=\"text-2xl font-bold text-gray-900\">任务规划</h1>\n                <p className=\"text-sm text-gray-600\">选择今日要完成的任务</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-gray-900\">{user.displayName}</p>\n                <p className=\"text-xs text-gray-500\">{user.points} 积分</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          {/* Sidebar - Planning Info */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-xl shadow-sm p-6 sticky top-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">📅 日期选择</h3>\n              <input\n                type=\"date\"\n                value={selectedDate}\n                onChange={(e) => setSelectedDate(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                min={new Date().toISOString().split('T')[0]}\n              />\n\n              {selectedTasks.length > 0 && (\n                <div className=\"mt-6\">\n                  <h4 className=\"text-md font-semibold text-gray-900 mb-3\">✅ 已选任务</h4>\n                  <div className=\"space-y-2\">\n                    {selectedTasks.map((task) => (\n                      <div key={task.id} className=\"flex items-center justify-between p-2 bg-primary-50 rounded-lg\">\n                        <span className=\"text-sm text-gray-700 truncate\">{task.title}</span>\n                        <button\n                          onClick={() => handleTaskSelect(task)}\n                          className=\"text-danger-500 hover:text-danger-700 ml-2\"\n                        >\n                          ❌\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n\n                  <div className=\"mt-4 p-3 bg-gray-50 rounded-lg\">\n                    <div className=\"flex justify-between text-sm\">\n                      <span>总积分:</span>\n                      <span className=\"font-semibold text-primary-600\">{getTotalPoints()}</span>\n                    </div>\n                    <div className=\"flex justify-between text-sm mt-1\">\n                      <span>总时间:</span>\n                      <span className=\"font-semibold text-secondary-600\">{getTotalTime()}分钟</span>\n                    </div>\n                  </div>\n\n                  <button\n                    onClick={handlePlanTasks}\n                    disabled={planningTask}\n                    className=\"w-full mt-4 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white py-2 px-4 rounded-lg font-medium transition-colors duration-200\"\n                  >\n                    {planningTask ? '规划中...' : '确认规划'}\n                  </button>\n                </div>\n              )}\n\n              {/* Today's planned tasks */}\n              {dailyTasks.length > 0 && (\n                <div className=\"mt-6\">\n                  <h4 className=\"text-md font-semibold text-gray-900 mb-3\">📋 今日计划</h4>\n                  <div className=\"space-y-2\">\n                    {dailyTasks.map((dailyTask) => (\n                      <div key={dailyTask.id} className=\"p-2 bg-success-50 rounded-lg\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm text-gray-700\">{dailyTask.task?.title}</span>\n                          <span className={`text-xs px-2 py-1 rounded-full ${\n                            dailyTask.status === 'completed' ? 'bg-success-100 text-success-700' :\n                            dailyTask.status === 'in_progress' ? 'bg-secondary-100 text-secondary-700' :\n                            'bg-gray-100 text-gray-700'\n                          }`}>\n                            {dailyTask.status === 'completed' ? '已完成' :\n                             dailyTask.status === 'in_progress' ? '进行中' : '计划中'}\n                          </span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Main Content - Task Selection */}\n          <div className=\"lg:col-span-3\">\n            {/* Category Filter */}\n            <div className=\"bg-white rounded-xl shadow-sm p-4 mb-6\">\n              <div className=\"flex flex-wrap gap-2\">\n                {categories.map((category) => (\n                  <button\n                    key={category.key}\n                    onClick={() => setActiveCategory(category.key)}\n                    className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors duration-200 ${\n                      activeCategory === category.key\n                        ? 'bg-primary-600 text-white'\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    <span>{category.emoji}</span>\n                    <span className=\"text-sm font-medium\">{category.label}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Task Grid */}\n            {loading ? (\n              <div className=\"text-center py-12\">\n                <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto\"></div>\n                <p className=\"mt-4 text-gray-600\">加载任务中...</p>\n              </div>\n            ) : filteredTasks.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <div className=\"text-6xl mb-4\">📝</div>\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">暂无任务</h3>\n                <p className=\"text-gray-600\">该分类下暂时没有可用的任务</p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {filteredTasks.map((task) => (\n                  <TaskCard\n                    key={task.id}\n                    task={task}\n                    onSelect={handleTaskSelect}\n                    isSelected={selectedTasks.some(t => t.id === task.id) || isTaskPlanned(task)}\n                    showActions={false}\n                    className={isTaskPlanned(task) ? 'opacity-50 pointer-events-none' : ''}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TaskPlanning;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}