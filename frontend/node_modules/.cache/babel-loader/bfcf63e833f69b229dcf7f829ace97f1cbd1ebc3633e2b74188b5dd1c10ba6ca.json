{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{login}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{await login(email,password);navigate('/dashboard');}catch(error){setError(error.message||'Login failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-primary-100 to-secondary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-20 w-20 bg-primary-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-2xl font-bold\",children:\"\\uD83C\\uDFD6\\uFE0F\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"\\u6B22\\u8FCE\\u56DE\\u6765\\uFF01\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:\"\\u767B\\u5F55\\u60A8\\u7684\\u6691\\u5047\\u8BA1\\u5212\\u8D26\\u6237\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md shadow-sm -space-y-px\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"sr-only\",children:\"\\u90AE\\u7BB1\\u5730\\u5740\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"\\u90AE\\u7BB1\\u5730\\u5740\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"sr-only\",children:\"\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",autoComplete:\"current-password\",required:true,className:\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"\\u5BC6\\u7801\",value:password,onChange:e=>setPassword(e.target.value)})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-danger-50 border border-danger-200 text-danger-800 px-4 py-3 rounded-lg animate-shake\",children:error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",children:loading?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"\\u767B\\u5F55\\u4E2D...\"]}):'登录'})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"\\u8FD8\\u6CA1\\u6709\\u8D26\\u6237\\uFF1F\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200\",children:\"\\u7ACB\\u5373\\u6CE8\\u518C\"})]})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","error","setError","loading","setLoading","login","navigate","handleSubmit","e","preventDefault","message","className","children","onSubmit","htmlFor","id","name","type","autoComplete","required","placeholder","value","onChange","target","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","to"],"sources":["/root/projects/SummerVacationPlanning/frontend/src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Login: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      await login(email, password);\n      navigate('/dashboard');\n    } catch (error: any) {\n      setError(error.message || 'Login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-100 to-secondary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <div className=\"mx-auto h-20 w-20 bg-primary-500 rounded-full flex items-center justify-center\">\n            <span className=\"text-white text-2xl font-bold\">🏖️</span>\n          </div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            欢迎回来！\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            登录您的暑假计划账户\n          </p>\n        </div>\n\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"email\" className=\"sr-only\">\n                邮箱地址\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                placeholder=\"邮箱地址\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                密码\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                placeholder=\"密码\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"bg-danger-50 border border-danger-200 text-danger-800 px-4 py-3 rounded-lg animate-shake\">\n              {error}\n            </div>\n          )}\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n            >\n              {loading ? (\n                <span className=\"flex items-center\">\n                  <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  登录中...\n                </span>\n              ) : (\n                '登录'\n              )}\n            </button>\n          </div>\n\n          <div className=\"text-center\">\n            <span className=\"text-sm text-gray-600\">\n              还没有账户？{' '}\n              <Link to=\"/register\" className=\"font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200\">\n                立即注册\n              </Link>\n            </span>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}