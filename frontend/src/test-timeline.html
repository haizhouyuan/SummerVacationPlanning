<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TaskTimeline æµ‹è¯•</title>
  <script src="https://unpkg.com/tailwindcss-cdn@3.4.0/tailwindcss.js"></script>
  <style>
    /* æ¨¡æ‹ŸTaskTimelineçš„ç½‘æ ¼å¸ƒå±€å’Œä»»åŠ¡å®šä½ */
    .timeline-grid {
      position: relative;
      background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
      border-radius: 8px;
      padding: 16px;
      min-height: 700px;
      border: 1px solid #e5e7eb;
    }
    
    .time-slot {
      height: 40px; /* æ¯ä¸ª30åˆ†é’Ÿæ—¶æ®µ = 40px */
      position: relative;
      border-bottom: 1px solid #e5e7eb;
      transition: colors 0.2s;
    }
    
    .time-slot:nth-child(even) {
      border-color: #f3f4f6;
      background: #f9fafb;
    }
    
    .time-slot:nth-child(odd) {
      border-color: #e5e7eb;
      background: rgba(255, 255, 255, 0.5);
    }
    
    .task-block {
      position: absolute;
      border-left: 4px solid #059669;
      background: rgba(16, 185, 129, 0.1);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      padding: 12px;
      cursor: pointer;
      z-index: 10;
      transition: all 0.2s;
      background-color: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(4px);
    }
    
    .task-block:hover {
      box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1);
      transform: scale(1.01);
    }
    
    .time-label {
      position: absolute;
      right: -120px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
      z-index: 15;
      font-size: 12px;
      color: #6b7280;
    }
    
    /* ä¿®å¤å‰çš„å®šä½ - æœ‰åŒé‡åç§» */
    .task-old-position {
      /* åŸæ¥çš„ä»£ç ï¼štopOffset = 32px + ç½‘æ ¼å®¹å™¨çš„top-8 = åŒé‡åç§» */
      top: calc(32px + 80px); /* 80px = 2ä¸ªæ—¶æ®µ * 40pxï¼Œåº”è¯¥å¯¹åº”8:00 */
    }
    
    /* ä¿®å¤åçš„å®šä½ - æ— åŒé‡åç§» */
    .task-new-position {  
      /* ä¿®å¤åçš„ä»£ç ï¼štopOffset = 0px + ç½‘æ ¼å®¹å™¨çš„top-8 = æ­£ç¡®åç§» */
      top: 80px; /* 80px = 2ä¸ªæ—¶æ®µ * 40pxï¼Œæ­£ç¡®å¯¹åº”8:00 */
    }
  </style>
</head>
<body class="bg-gray-100 p-8">
  <div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold text-gray-900 mb-8">TaskTimeline å®šä½ä¿®å¤æµ‹è¯•</h1>
    
    <!-- ä¿®å¤å‰çš„æ•ˆæœ -->
    <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
      <h2 class="text-xl font-bold text-red-600 mb-4">ä¿®å¤å‰ï¼šä»»åŠ¡å®šä½æœ‰åŒé‡åç§»é—®é¢˜</h2>
      <div class="flex">
        <!-- æ—¶é—´åˆ»åº¦åˆ— -->
        <div class="w-24 flex-shrink-0 mr-4">
          <div class="text-xs font-medium text-gray-500 mb-4 text-center">æ—¶é—´</div>
          <div class="h-20 flex items-center justify-end pr-4 text-xs text-gray-700 font-medium">
            <div class="text-right">
              <div class="font-semibold text-sm">06:00</div>
            </div>
          </div>
          <div class="h-20 flex items-center justify-end pr-4 text-xs text-gray-700 font-medium">
            <div class="text-right">
              <div class="font-semibold text-sm">08:00</div>
            </div>
          </div>
          <div class="h-20 flex items-center justify-end pr-4 text-xs text-gray-700 font-medium">
            <div class="text-right">
              <div class="font-semibold text-sm">10:00</div>
            </div>
          </div>
        </div>
        
        <!-- ä¸­å¤®æ—¶é—´è½´ -->
        <div class="w-px bg-blue-500 flex-shrink-0"></div>
        
        <!-- ä»»åŠ¡åŒºåŸŸ -->
        <div class="flex-1 ml-4 relative">
          <div class="text-xs font-medium text-gray-500 mb-4 text-center">ä»»åŠ¡å®‰æ’</div>
          
          <!-- æ—¶é—´ç½‘æ ¼èƒŒæ™¯ -->
          <div class="absolute inset-0 top-8">
            <div class="time-slot"></div>
            <div class="time-slot"></div>
            <div class="time-slot"></div>
            <div class="time-slot"></div>
            <div class="time-slot"></div>
            <div class="time-slot"></div>
          </div>
          
          <!-- é—®é¢˜ä»»åŠ¡ï¼šåº”è¯¥åœ¨8:00ä½†æ˜¾ç¤ºåœ¨æ›´ä¸‹æ–¹ -->
          <div class="task-block task-old-position" style="left: calc(8px + 0%); width: calc(100% - 4px); height: 40px;">
            <div class="flex items-center justify-between">
              <div class="flex items-center space-x-2">
                <span class="text-lg">ğŸ“š</span>
                <h4 class="font-medium text-gray-900 text-sm">æ—©è¯»ä»»åŠ¡</h4>
                <div class="text-xs px-1 py-0.5 rounded font-medium border bg-gray-100 text-gray-600 border-gray-200">ğŸ“‹</div>
              </div>
            </div>
            
            <!-- å¤–éƒ¨æ—¶é—´æ ‡ç­¾ -->
            <div class="time-label">
              <span class="font-medium bg-gray-100 px-2 py-1 rounded whitespace-nowrap">08:00 - 08:30</span>
              <div class="flex items-center space-x-1">
                <span class="text-blue-600 font-medium">30åˆ†é’Ÿ</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <p class="text-sm text-red-600 mt-2">âŒ ä»»åŠ¡æ˜¾ç¤ºåœ¨æ—¶é—´è½´ä¸‹æ–¹ï¼Œä¸åœ¨æ­£ç¡®çš„8:00ä½ç½®</p>
    </div>
    
    <!-- ä¿®å¤åçš„æ•ˆæœ -->
    <div class="bg-white rounded-xl shadow-sm p-6">
      <h2 class="text-xl font-bold text-green-600 mb-4">ä¿®å¤åï¼šä»»åŠ¡å®šä½æ­£ç¡®å¯¹é½</h2>
      <div class="flex">
        <!-- æ—¶é—´åˆ»åº¦åˆ— -->
        <div class="w-24 flex-shrink-0 mr-4">
          <div class="text-xs font-medium text-gray-500 mb-4 text-center">æ—¶é—´</div>
          <div class="h-20 flex items-center justify-end pr-4 text-xs text-gray-700 font-medium">
            <div class="text-right">
              <div class="font-semibold text-sm">06:00</div>
            </div>
          </div>
          <div class="h-20 flex items-center justify-end pr-4 text-xs text-gray-700 font-medium">
            <div class="text-right">
              <div class="font-semibold text-sm">08:00</div>
            </div>
          </div>
          <div class="h-20 flex items-center justify-end pr-4 text-xs text-gray-700 font-medium">
            <div class="text-right">
              <div class="font-semibold text-sm">10:00</div>
            </div>
          </div>
        </div>
        
        <!-- ä¸­å¤®æ—¶é—´è½´ -->
        <div class="w-px bg-blue-500 flex-shrink-0"></div>
        
        <!-- ä»»åŠ¡åŒºåŸŸ -->
        <div class="flex-1 ml-4 relative">
          <div class="text-xs font-medium text-gray-500 mb-4 text-center">ä»»åŠ¡å®‰æ’</div>
          
          <!-- æ—¶é—´ç½‘æ ¼èƒŒæ™¯ -->
          <div class="absolute inset-0 top-8">
            <div class="time-slot"></div>
            <div class="time-slot"></div>
            <div class="time-slot"></div>
            <div class="time-slot"></div>
            <div class="time-slot"></div>
            <div class="time-slot"></div>
          </div>
          
          <!-- ä¿®å¤åçš„ä»»åŠ¡ï¼šæ­£ç¡®æ˜¾ç¤ºåœ¨8:00ä½ç½® -->
          <div class="task-block task-new-position" style="left: calc(8px + 0%); width: calc(100% - 4px); height: 40px;">
            <div class="flex items-center justify-between">
              <div class="flex items-center space-x-2">
                <span class="text-lg">ğŸ“š</span>
                <h4 class="font-medium text-gray-900 text-sm">æ—©è¯»ä»»åŠ¡</h4>
                <div class="text-xs px-1 py-0.5 rounded font-medium border bg-gray-100 text-gray-600 border-gray-200">ğŸ“‹</div>
              </div>
            </div>
            
            <!-- å¤–éƒ¨æ—¶é—´æ ‡ç­¾ -->
            <div class="time-label">
              <span class="font-medium bg-gray-100 px-2 py-1 rounded whitespace-nowrap">08:00 - 08:30</span>
              <div class="flex items-center space-x-1">
                <span class="text-blue-600 font-medium">30åˆ†é’Ÿ</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <p class="text-sm text-green-600 mt-2">âœ… ä»»åŠ¡æ­£ç¡®æ˜¾ç¤ºåœ¨æ—¶é—´è½´ä¸Šçš„8:00ä½ç½®ï¼Œä¸Šä¸‹è¾¹ç¼˜ç²¾ç¡®å¯¹é½</p>
    </div>
    
    <!-- ä¿®å¤è¯´æ˜ -->
    <div class="bg-blue-50 rounded-xl p-6 mt-8">
      <h3 class="text-lg font-bold text-blue-900 mb-3">ä¿®å¤è¯´æ˜</h3>
      <div class="text-blue-800 space-y-2">
        <p><strong>é—®é¢˜ï¼š</strong>TaskTimelineç»„ä»¶ä¸­çš„<code>getTaskStyle</code>å‡½æ•°æœ‰åŒé‡åç§»é—®é¢˜ã€‚</p>
        <p><strong>åŸå› ï¼š</strong>ç½‘æ ¼å®¹å™¨å·²ç»æœ‰top-8åç§»å¤„ç†æ ‡é¢˜é—´è·ï¼Œä½†ä»£ç ä¸­åˆé¢å¤–æ·»åŠ äº†32pxçš„topOffsetã€‚</p>
        <p><strong>ä¿®å¤ï¼š</strong>å°†<code>topOffset</code>ä»32pxæ”¹ä¸º0pxï¼Œç§»é™¤åŒé‡åç§»ã€‚</p>
        <div class="bg-white rounded p-3 mt-3 font-mono text-sm">
          <div class="text-red-600 mb-2">// ä¿®å¤å‰</div>
          <div class="text-red-600 mb-3">const topOffset = 32; // å¯¼è‡´åŒé‡åç§»</div>
          <div class="text-green-600 mb-2">// ä¿®å¤å</div>
          <div class="text-green-600">const topOffset = 0; // æ— é¢å¤–åç§»ï¼Œç½‘æ ¼å®¹å™¨å·²å¤„ç†</div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>